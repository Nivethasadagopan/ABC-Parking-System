<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html">

<h:head>
    <title>Management Registration</title>
    <!-- Load CSS from resources -->
    <h:outputStylesheet library="css" name="adminreg.css"/>
</h:head>

<h:body>
    <!-- âœ… Background image applied here -->
    <div class="background" 
         style="background: url('#{resource['images/Adminreg.png']}') no-repeat center center/cover;">

        <!-- Logo top-left -->
        <div class="logo-container">
            <h:graphicImage library="images" name="Adminlogo.png" alt="ABC Parking Logo" styleClass="logo"/>
        </div>

        <!-- Center Content -->
        <div class="register-wrapper">
            <h2 class="form-title">Management Registration</h2>

            <h:form>
         <!-- Name -->
        <div class="form-row">
           <h:outputLabel for="adminname" value="Name:" styleClass="form-label"/>
             <h:inputText id="adminname" value="#{adminRegister.adminname}" required="true"
                 requiredMessage="Name is required"
                 styleClass="form-input"/>
             <h:message for="adminname" 
               style="color: #8bb611; font-size: 14px; display: block; text-align: center; margin-top: 6px;"/>
         </div>

         <!-- Email -->
         <div class="form-row">
           <h:outputLabel for="adminemail" value="Email:" styleClass="form-label"/>
             <h:inputText id="adminemail" value="#{adminRegister.adminemail}" required="true"
                 requiredMessage="Email is required"
                 styleClass="form-input"/>
          <h:message for="adminemail" 
               style="color: #8bb611; font-size: 14px; display: block; text-align: center; margin-top: 6px;"/>
         </div>

         <!-- Password -->
         <div class="form-row">
           <h:outputLabel for="adminpassword" value="Password:" styleClass="form-label"/>
             <h:inputSecret id="adminpassword" value="#{adminRegister.adminpassword}" required="true"
                   requiredMessage="Password is required"
                   styleClass="form-input"/>
          <h:message for="adminpassword" 
               style="color: #8bb611; font-size: 14px; display: block; text-align: center; margin-top: 6px;"/>
         </div>

                <!-- Password Hint -->
                <div class="form-row password-hint">
                    (Requires 8+ characters, uppercase, lowercase, number, and special character)
                </div>

                <!-- Register Button -->
                <h:commandButton value="Register" 
                                 action="#{adminRegister.register}" 
                                 styleClass="register-btn"/>

<!--                 Back to Home Button
                <h:button value="Back to Home" 
                          outcome="index2" 
                          styleClass="register-btn" 
                          style="background-color: #6c757d; margin-top: 10px;" />
 -->
                <!-- Privacy checkbox -->
                <div class="form-row" style="margin-top: 10px; display: flex; align-items: center; gap: 8px;">
                    <h:selectBooleanCheckbox id="acceptPrivacy" value="#{adminRegister.acceptPrivacy}" required="true"
                                             style="margin-left: 0px;" />
                    <h:outputLabel for="acceptPrivacy" value="I accept the Privacy Statement." style="margin:0;" />
                </div>

                <!-- Success/Error Message -->
                <h:outputText value="#{adminRegister.message}" 
                              rendered="#{not empty adminRegister.message}" 
                              styleClass="#{adminRegister.message.startsWith('Admin registration successful') ? 'success-message' : 'error-message'}" />

                <!-- Auto Redirect after success -->
                <h:panelGroup rendered="#{adminRegister.message == 'Admin registration successful! You can now log in.'}">
                    <script type="text/javascript">
                        setTimeout(function() { window.location.href = 'adminLogin.xhtml'; }, 3000); 
                    </script>
                </h:panelGroup>
            </h:form>
        </div>

        <!-- Bottom decoration image -->
        <h:graphicImage library="images" name="Adminreg1.png" alt="Bottom Decoration" styleClass="bottom-img"/>
    </div>

    <!-- Info Section -->
    <section class="info-section">
        <div class="info-container">
            <h2>Welcome to Management Panel</h2>
            <p>
                Manage members, create parking slots, and oversee system settings 
                all from one place. This panel is designed to give you full control 
                with a clean and simple interface.
            </p>
            <p class="highlight">
                For a limited time only, new admins get exclusive access to advanced tools 
                and features. This offer is valid for the year 2025.
            </p>
        </div>
    </section>
</h:body>
</html>
